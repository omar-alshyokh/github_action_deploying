name: Android Build

on:
  push:
    branches:
      - master  # Change this to the branch you want to trigger the build on (e.g., master)

jobs:
  build:
    name: Build Android App Bundle
    runs-on: macos-latest
    environment: production
    steps:
      - uses: actions/checkout@v2

      - name: Build Android App Bundle
        id: build-android
        env:
          KEYSTORE: ${{ secrets.KEYSTORE_PASS }}
          KEYSTORE_KEY_PASS: ${{ secrets.KEYSTORE_KEY_PASS }}
          KEYSTORE_KEY_ALIAS: ${{ secrets.KEYSTORE_KEY_ALIAS }}
        run:
          echo "storePassword=$KEYSTORE" >> secrets.txt;
          echo "keyPassword=$KEYSTORE_KEY_PASS" >> secrets.txt;
          echo "keyAlias=$KEYSTORE_KEY_ALIAS" >> secrets.txt;
          echo "storeFile=keystore.jks" >> secrets.txt;
      - name: Upload artifact
        uses: actions/upload-artifact@v3
        with:
          name: cats
          path: secrets.txt
